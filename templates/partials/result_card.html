<div class="animate-fade-in-up h-full flex flex-col">
    
    <div class="grid grid-cols-2 gap-2 mb-4">
        {% if gen.video_url %}
        <div class="relative group aspect-square col-span-2 md:col-span-1 cursor-pointer overflow-hidden rounded-lg border border-slate-700"
             @click="modalOpen = true; modalSrc = '{{ gen.video_url }}'; modalType = 'video'">
            <video src="{{ gen.video_url }}" class="w-full h-full object-cover opacity-80 group-hover:opacity-100 transition" muted loop autoplay></video>
            <div class="absolute inset-0 flex items-center justify-center bg-black/30 group-hover:bg-transparent transition">
                <span class="text-4xl text-white group-hover:scale-110 transition">â–¶ï¸</span>
            </div>
            <div class="absolute bottom-1 right-1 bg-black/70 px-2 py-1 rounded text-xs text-white font-bold">VIDEO PREVIEW</div>
        </div>
        {% endif %}

        {% for img in gen.image_list %}
        <div class="relative group aspect-square cursor-pointer" 
             @click="modalOpen = true; modalSrc = '{{ img }}'; modalType = 'image'">
            <img src="{{ img }}" class="w-full h-full object-cover rounded-lg border border-slate-700 bg-black group-hover:brightness-110 transition">
            <div class="absolute bottom-1 right-1 bg-black/70 p-1 rounded text-white opacity-0 group-hover:opacity-100 transition">
                ğŸ”
            </div>
        </div>
        {% endfor %}
    </div>

    <div class="flex justify-between items-center mb-3 border-b border-slate-700 pb-2">
        <button hx-post="/like/{{ gen.id }}" hx-swap="outerHTML" class="text-pink-400 font-bold text-sm bg-slate-800 px-3 py-1 rounded-full border border-pink-500/30">
            â¤ï¸ {{ gen.likes }}
        </button>
        <div class="flex gap-2">
            <a href="/download_text/{{ gen.id }}" class="text-xs bg-slate-700 hover:bg-slate-600 px-2 py-1 rounded text-white transition">ğŸ“„ Clean Text</a>
            <button hx-post="/share_discord/{{ gen.id }}" hx-swap="outerHTML" class="text-xs bg-purple-600 hover:bg-purple-500 px-2 py-1 rounded text-white transition">Share</button>
        </div>
    </div>
    
    <div class="prose prose-invert max-w-none text-sm text-slate-300 overflow-y-auto pr-2 custom-scrollbar flex-1 whitespace-pre-wrap font-sans leading-relaxed">
{{ gen.content }}
    </div>
</div>
